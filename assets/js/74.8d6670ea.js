(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{476:function(a,t,e){"use strict";e.r(t);var s=e(30),_=Object(s.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"fs-file-system-模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fs-file-system-模块"}},[a._v("#")]),a._v(" fs(file system)模块")]),a._v(" "),t("h2",{attrs:{id:"_0-基础"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-基础"}},[a._v("#")]),a._v(" 0.基础")]),a._v(" "),t("p",[a._v("fs模块可以实现与硬盘的交互，例如文件的创建、删除、重命名、移动，还有文件内容的写入、读取，以及文件夹的相关操作")]),a._v(" "),t("h2",{attrs:{id:"_1-写入文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-写入文件"}},[a._v("#")]),a._v(" 1.写入文件")]),a._v(" "),t("h3",{attrs:{id:"_1-1-writefile异步写入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-writefile异步写入"}},[a._v("#")]),a._v(" 1-1 writeFile异步写入")]),a._v(" "),t("p",[a._v("语法:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("fs.writeFile(file,data[,options],callback)\n")])])]),t("p",[a._v("参数说明:")]),a._v(" "),t("ul",[t("li",[a._v("file 文件名")]),a._v(" "),t("li",[a._v("data 待写入的数据")]),a._v(" "),t("li",[a._v("options 选项设置(可选)")]),a._v(" "),t("li",[a._v("callback 写入回调")])]),a._v(" "),t("h3",{attrs:{id:"_1-2-writefilesync同步写入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-writefilesync同步写入"}},[a._v("#")]),a._v(" 1-2 writeFileSync同步写入")]),a._v(" "),t("h3",{attrs:{id:"_1-3-appendfile-appendfilesync追加写入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-appendfile-appendfilesync追加写入"}},[a._v("#")]),a._v(" 1-3 appendFile/appendFileSync追加写入")]),a._v(" "),t("p",[a._v("语法与writeFile完全相同")]),a._v(" "),t("h3",{attrs:{id:"_1-4-createwritestream流式写入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-createwritestream流式写入"}},[a._v("#")]),a._v(" 1-4 createWriteStream流式写入")]),a._v(" "),t("p",[a._v("语法:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("fs.createWriteStream(path[,options])\n")])])]),t("p",[a._v("参数说明:")]),a._v(" "),t("ul",[t("li",[a._v("path 文件路径")]),a._v(" "),t("li",[a._v("options 选项设置(可选)")])]),a._v(" "),t("p",[a._v("程序打开一个文件是需要消耗资源的，流式写入可以减少打开关闭文件的次数")]),a._v(" "),t("p",[a._v("流式写入方式适用于大文件写入或者频繁写入的场景，writeFile适合于写入频率较低的场景")]),a._v(" "),t("h3",{attrs:{id:"_1-5-写入文件的场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-写入文件的场景"}},[a._v("#")]),a._v(" 1-5 写入文件的场景")]),a._v(" "),t("p",[a._v("文件写入在计算机中是一个非常常见的操作，下面的场景都用到了文件写入")]),a._v(" "),t("ul",[t("li",[a._v("下载文件")]),a._v(" "),t("li",[a._v("安装软件")]),a._v(" "),t("li",[a._v("保存程序日志，如Git")]),a._v(" "),t("li",[a._v("编辑器保存文件")]),a._v(" "),t("li",[a._v("视频录制")])]),a._v(" "),t("blockquote",[t("p",[a._v("当需要"),t("strong",[a._v("持久化保持数据")]),a._v("的时候，应该想到"),t("strong",[a._v("文件写入")])])]),a._v(" "),t("h2",{attrs:{id:"_2-文件读取"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-文件读取"}},[a._v("#")]),a._v(" 2.文件读取")]),a._v(" "),t("h3",{attrs:{id:"_2-1-readfile异步读取"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-readfile异步读取"}},[a._v("#")]),a._v(" 2-1 readFile异步读取")]),a._v(" "),t("p",[a._v("语法:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("fs.readFile(path[,options],callback)\n")])])]),t("p",[a._v("参数说明:")]),a._v(" "),t("ul",[t("li",[a._v("path 文件路径")]),a._v(" "),t("li",[a._v("options 选项设置(可选)")]),a._v(" "),t("li",[a._v("callback 回调函数")])]),a._v(" "),t("h3",{attrs:{id:"_2-2-readfilesync同步读取"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-readfilesync同步读取"}},[a._v("#")]),a._v(" 2-2 readFileSync同步读取")]),a._v(" "),t("h3",{attrs:{id:"_2-3-createreadstream流式读取"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-createreadstream流式读取"}},[a._v("#")]),a._v(" 2-3 createReadStream流式读取")]),a._v(" "),t("p",[a._v("语法:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("fs.createReadStream(path[,options])\n// 绑定data事件\nrs.on('data',chunk=>{\n  console.log(chunk.length);\n})\n// end 可选事件\nrs.on('end',()=>{\n  console.log('读取完成');\n})\n")])])]),t("p",[a._v("参数说明:")]),a._v(" "),t("ul",[t("li",[a._v("path 文件路径")]),a._v(" "),t("li",[a._v("options 选项设置(可选)")])]),a._v(" "),t("h3",{attrs:{id:"_2-4-读取文件应用场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-读取文件应用场景"}},[a._v("#")]),a._v(" 2-4 读取文件应用场景")]),a._v(" "),t("p",[a._v("电脑开机、程序运行、编辑器打开文件、查看图片、播放视频、播放音乐、Git查看日志、上传文件、查看聊天记录")]),a._v(" "),t("h2",{attrs:{id:"_3-文件移动与重命名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-文件移动与重命名"}},[a._v("#")]),a._v(" 3.文件移动与重命名")]),a._v(" "),t("p",[a._v("在Node.js中，可以使用rename或renameSync来移动或重命名文件或文件夹")]),a._v(" "),t("p",[a._v("语法:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("fs.rename(oldPath,newPath,callback)\nfs.renameSync(oldPath,newPath)\n")])])]),t("p",[a._v("参数说明:")]),a._v(" "),t("ul",[t("li",[a._v("oldPath 文件当前的路径")]),a._v(" "),t("li",[a._v("newPath 文件新的路径")]),a._v(" "),t("li",[a._v("callback 操作后的回调")])]),a._v(" "),t("p",[a._v("代码示例：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("fs.rename('./座右铭.txt','./论语/座右铭.txt'，(err)=>{\n    if(err) throw err;\n    console.log('移动完成')\n})\nfs.renameSync('./座右铭.txt','./论语/座右铭.txt');\n")])])]),t("h2",{attrs:{id:"_4-文件删除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-文件删除"}},[a._v("#")]),a._v(" 4.文件删除")]),a._v(" "),t("p",[a._v("在Node.js中，可以使用unlink或rm来删除文件或文件夹")]),a._v(" "),t("h2",{attrs:{id:"_5-文件夹操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-文件夹操作"}},[a._v("#")]),a._v(" 5.文件夹操作")]),a._v(" "),t("p",[a._v("借助Node.js的能力，对文件夹进行创建、读取、删除等操作")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("方法")]),a._v(" "),t("th",[a._v("说明")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("mkdir/mkdirSync")]),a._v(" "),t("td",[a._v("创建文件夹")])]),a._v(" "),t("tr",[t("td",[a._v("readdir/readdirSync")]),a._v(" "),t("td",[a._v("读取文件夹")])]),a._v(" "),t("tr",[t("td",[a._v("rmdir/rmdirSync")]),a._v(" "),t("td",[a._v("删除文件夹")])])])]),a._v(" "),t("h3",{attrs:{id:"_5-1mkdir创建文件夹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1mkdir创建文件夹"}},[a._v("#")]),a._v(" 5-1mkdir创建文件夹")]),a._v(" "),t("p",[a._v("在Node.js中，可以使用mkdir或mkdirSync来创建文件夹")]),a._v(" "),t("p",[a._v("语法:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("fs.mkdir(path[,options],callback)\nfs.mkdirSync(path[,options])\n")])])]),t("p",[a._v("参数说明:")]),a._v(" "),t("ul",[t("li",[a._v("path 文件路径")]),a._v(" "),t("li",[a._v("options 选项配置(可选)")]),a._v(" "),t("li",[a._v("callback 操作后的回调")])]),a._v(" "),t("p",[a._v("代码示例：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("fs.mkdir('./page'，(err)=>{\n    if(err) throw err;\n    console.log('创建完成')\n})\n")])])]),t("h2",{attrs:{id:"_6-查看资源状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-查看资源状态"}},[a._v("#")]),a._v(" 6.查看资源状态")]),a._v(" "),t("p",[a._v("在Node.js中，可以使用stat或statSync来创建文件夹")]),a._v(" "),t("p",[a._v("语法:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("fs.stat(path[,options],callback)\nfs.statSync(path[,options])\n")])])]),t("p",[a._v("参数说明:")]),a._v(" "),t("ul",[t("li",[a._v("path 文件路径")]),a._v(" "),t("li",[a._v("options 选项配置(可选)")]),a._v(" "),t("li",[a._v("callback 操作后的回调")])]),a._v(" "),t("p",[a._v("代码示例：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("// 异步获取状态\nfs.stat('./data.txt'，(err,data)=>{\n    if(err) throw err;\n    console.log(data)\n})\n// 同步获取状态\nlet data = fs.statSync('./data.txt')\n")])])]),t("p",[a._v("结果值对象结构：")]),a._v(" "),t("ul",[t("li",[a._v("size                         文件体积")]),a._v(" "),t("li",[a._v("birthtime               创建时间")]),a._v(" "),t("li",[a._v("mtime                    最后修改时间")]),a._v(" "),t("li",[a._v("atime                      访问时间")]),a._v(" "),t("li",[a._v("isFile                       检测是否为文件")]),a._v(" "),t("li",[a._v("isDirectory            检测是否为文件夹")])]),a._v(" "),t("h2",{attrs:{id:"_7-相对路径问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-相对路径问题"}},[a._v("#")]),a._v(" 7.相对路径问题")]),a._v(" "),t("p",[a._v("fs模块对资源进行操作时，路径的写法有两种：")]),a._v(" "),t("ul",[t("li",[a._v("相对路径")])]),a._v(" "),t("blockquote",[t("p",[a._v("代码中的路径是相对命令行操作目录")]),a._v(" "),t("p",[a._v("eg：代码--fs.writeFileSync('./data.txt'，’love‘)")]),a._v(" "),t("p",[a._v("命令行--D:\\nodeJS\\12-fs")]),a._v(" "),t("p",[a._v("最终的data.txt'文件会创建在D:\\nodeJS\\12-fs下，而不是代码所在文件夹下")])]),a._v(" "),t("ul",[t("li",[a._v("绝对路径")])]),a._v(" "),t("blockquote",[t("p",[a._v("__dirname 保存的是所在文件的所在目录的绝对路径，不会随着工作目录的变化而变化")])])])}),[],!1,null,null,null);t.default=_.exports}}]);